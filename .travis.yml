sudo: required
language: node_js
node_js:
  - "lts/*"

git:
  depth: 3

matrix:
  include:
    - os: linux
      env:
        - CHROME_BIN='/usr/bin/google-chrome'
        - DISPLAY=':99.0'
      dist: xenial
      addons:
        chrome: stable
      services:
        - xvfb

    - os: osx
      env: HOMEBREW_CASK_OPTS='--appdir=/Applications'

before_install:
  - |
    if [ "$TRAVIS_OS_NAME" = "osx" ]; then
      brew update > /dev/null
      brew cask install google-chrome
    fi

install:
  - npm install

script:
  - "npm run test:e2e"
  - "npm run test:unit"
  - "npm run build"
